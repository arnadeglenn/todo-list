(()=>{"use strict";function t(){let t=new Date,e=t.getDate(),d=t.getMonth()+1;return e<10&&(e="0"+e),d<10&&(d="0"+e),`${e}/${d}/${t.getFullYear()}`}class e{constructor(t,e,d){this.listItem=t,this.date=e,this.dataIndex=d}}const d=[new e("Example To-Do","2023-10-14","0"),new e("Example To-Do 2","2023-10-15","1")],n=document.querySelector(".list-items");let o=function(){for(let t=0;t<d.length;t++){const e=document.createElement("div");e.classList.add("list-item"),e.classList.add("full-to-do"),e.setAttribute("data-index",`${t}`),n.appendChild(e);const o=document.createElement("div");o.classList.add("checkbox"),e.appendChild(o);const i=document.createElement("div");i.classList.add("to-do-input"),i.setAttribute("data-index",`${t}`),i.innerHTML=d[t].listItem,e.appendChild(i);const a=document.createElement("div");a.classList.add("icon-box"),e.appendChild(a);const s=document.createElement("input");s.classList.add("date-input"),s.setAttribute("type","date"),s.setAttribute("data-index",`${t}`),s.value=d[t].date,a.appendChild(s);const c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.classList.add("edit-svg"),c.setAttribute("xmlns","http://www.w3.org/2000/svg"),c.setAttribute("viewBox","0 0 24 24"),c.setAttribute("data-index",`${t}`),c.innerHTML="<title>pencil</title><path d='M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z' />",a.appendChild(c);const l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.classList.add("delete-svg"),l.setAttribute("xmlns","http://www.w3.org/2000/svg"),l.setAttribute("viewBox","0 0 24 24"),l.setAttribute("data-index",`${t}`),l.innerHTML="<title>trash-can-outline</title><path d='M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z' />",a.appendChild(l)}};const i=document.querySelector(".list-items"),a=function(){document.querySelectorAll(".edit-svg").forEach((e=>{e.addEventListener("click",(e=>{console.log("Hello"),function(e){if(e.target.classList.contains("edit-svg")){const n=e.target.getAttribute("data-index"),o=document.querySelector(`.full-to-do[data-index="${n}"]`),a=document.createElement("div");i.replaceChild(a,o),function(e,d){e.classList.add("list-item"),e.classList.add("add-to-do-modal"),e.setAttribute("data-index",`${d}`);const n=document.createElement("div");n.classList.add("checkbox"),e.appendChild(n);const o=document.createElement("input");o.classList.add("to-do-input"),o.classList.add("add-to-do-input"),o.setAttribute("type","text"),o.setAttribute("placeholder","What Do You Need to Do?"),o.setAttribute("data-index",`${d}`),e.appendChild(o);const i=document.createElement("div");i.classList.add("icon-box"),e.appendChild(i);const a=document.createElement("input");a.classList.add("date-input"),a.classList.add("add-to-do-date"),a.setAttribute("type","date"),a.setAttribute("data-index",`${d}`),a.value=t(),i.appendChild(a);const s=document.createElement("button");s.classList.add("submit-button"),s.setAttribute("type","submit"),s.setAttribute("data-index",`${d}`),s.setAttribute("id","to-do-submit"),s.innerHTML="Submit",i.appendChild(s);const c=document.createElement("button");c.classList.add("cancel-button"),c.setAttribute("type","submit"),c.setAttribute("id","to-do-cancel"),c.innerHTML="Cancel",i.appendChild(c)}(a,n),console.log(d)}}(e),console.log("Hello Again");const n=document.querySelector(".submit-button"),c=document.querySelector(".cancel-button"),l=document.querySelector(".add-to-do-modal").getAttribute("data-index");n.addEventListener("click",(t=>{!function(t){const e=document.querySelector(`.add-to-do-input[data-index="${t}"]`),n=document.querySelector(`.add-to-do-date[data-index="${t}"]`);d[t].listItem=e.value,d[t].date=n.value,d[t].dataIndex=`${t}`}(l),i.innerHTML="",o(),console.log(d),a(),s()})),c.addEventListener("click",(t=>{i.innerHTML="",o(),console.log(d),a(),s()}))}))}))},s=function(){document.querySelectorAll(".delete-svg").forEach((t=>{t.addEventListener("click",(t=>{!function(t){if(t.target.classList.contains("delete-svg")){const e=t.target.getAttribute("data-index");document.querySelector(`.full-to-do[data-index="${e}"]`),console.log(e),d.splice(e,1)}}(t),i.innerHTML="",o(),a(),s()}))}))},c=document.getElementById("project-addition");document.getElementById("add-project-button").addEventListener("click",(t=>{c.showModal()}));const l=document.querySelector(".add-item-js"),u=document.querySelector(".list-items");let r=d.length;l.addEventListener("click",(i=>{!function(e){const d=document.createElement("div");d.classList.add("list-item"),d.classList.add("add-to-do-modal"),d.setAttribute("data-index",`${e}`),n.appendChild(d);const o=document.createElement("div");o.classList.add("checkbox"),d.appendChild(o);const i=document.createElement("input");i.classList.add("to-do-input"),i.classList.add("add-to-do-input"),i.setAttribute("type","text"),i.setAttribute("placeholder","What Do You Need to Do?"),i.setAttribute("data-index",`${e}`),d.appendChild(i);const a=document.createElement("div");a.classList.add("icon-box"),d.appendChild(a);const s=document.createElement("input");s.classList.add("date-input"),s.classList.add("add-to-do-date"),s.setAttribute("type","date"),s.setAttribute("data-index",`${e}`),s.value=t(),a.appendChild(s);const c=document.createElement("button");c.classList.add("submit-button"),c.setAttribute("type","submit"),c.setAttribute("data-index",`${e}`),c.setAttribute("id","to-do-submit"),c.innerHTML="Submit",a.appendChild(c);const l=document.createElement("button");l.classList.add("cancel-button"),l.setAttribute("type","submit"),l.setAttribute("id","to-do-cancel"),l.innerHTML="Cancel",a.appendChild(l)}(r);const c=document.querySelector(".add-to-do-input"),l=document.querySelector(".submit-button"),m=document.querySelector(".cancel-button"),p=document.querySelector(".add-to-do-modal");c.focus(),l.addEventListener("click",(t=>{!function(t){const n=document.querySelector(`.add-to-do-input[data-index="${t}"]`),o=document.querySelector(`.add-to-do-date[data-index="${t}"]`);let i=n.value,a=o.value,s=d.length,c=new e(i,a,s);d.push(c)}(r),u.innerHTML="",o(),console.log(d),a(),s()})),m.addEventListener("click",(t=>{u.removeChild(p),a(),s()}))})),o(),a(),s()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBTSxnQkFDOUI0QixFQUFXeEIsVUFBWSxTQUN2QkMsRUFBUUosWUFBWTJCLEdBRXBCLE1BQU1DLEVBQW1CckMsU0FBU0ssY0FBYyxVQUNoRGdDLEVBQWlCL0IsVUFBVUMsSUFBSSxpQkFDL0I4QixFQUFpQjdCLGFBQWEsT0FBUSxVQUN0QzZCLEVBQWlCN0IsYUFBYSxLQUFNLGdCQUNwQzZCLEVBQWlCekIsVUFBWSxTQUM3QkMsRUFBUUosWUFBWTRCLEVBRXhCLENFcEZJaUIsQ0FBY0QsR0FDZCxNQUFNRSxFQUFldkQsU0FBU0MsY0FBYyxvQkFDdEN1QyxFQUFheEMsU0FBU0MsY0FBYyxrQkFDcEN3QyxFQUFhekMsU0FBU0MsY0FBYyxrQkFDcEN1RCxFQUFleEQsU0FBU0MsY0FBYyxvQkFDNUNzRCxFQUFhRSxRQUNiakIsRUFBV2hCLGlCQUFpQixTQUFVQyxLSFpwQixTQUFTN0IsR0FDM0IsTUFBTWUsRUFBYVgsU0FBU0MsY0FBYyxnQ0FBZ0NMLE9BQ3BFK0MsRUFBWTNDLFNBQVNDLGNBQWMsK0JBQStCTCxPQUN4RSxJQUFJOEQsRUFBVy9DLEVBQVdJLE1BQ3RCNEMsRUFBV2hCLEVBQVU1QixNQUNyQjZDLEVBQWdCOUQsRUFBU00sT0FDekJ5RCxFQUFVLElBQUlyRSxFQUFTa0UsRUFBVUMsRUFBVUMsR0FDL0M5RCxFQUFTZ0UsS0FBS0QsRUFDbEIsQ0dLUUUsQ0FBY1YsR0FDZCxFQUFVekMsVUFBWSxHQUN0QlYsSUFDQXdCLFFBQVFDLElBQUk3QixHQUNac0IsSUFDQXlCLEdBQWUsSUFFbkJKLEVBQVdqQixpQkFBaUIsU0FBVUMsSUFDbEMsRUFBVXVDLFlBQVlSLEdBQ3RCcEMsSUFDQXlCLEdBQWUsR0FDbEIsSUFNTDNDLElBQ0FrQixJQUNBeUIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9nZXQtZGF0ZS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvYWRkLXRvLWRvLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9yZW5kZXItdG8tZG8uanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2VkaXQtZGVsZXRlLXRvZG8uanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGdldEN1cnJlbnREYXRlKCkge1xuICAgIGxldCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgbGV0IGRheSA9IGN1cnJlbnREYXRlLmdldERhdGUoKTtcbiAgICBsZXQgbW9udGggPSBjdXJyZW50RGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICBsZXQgeWVhciA9IGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCk7XG5cbiAgICBpZiAoZGF5PDEwKSB7XG4gICAgICAgIGRheSA9ICcwJyArIGRheTtcbiAgICB9XG4gICAgaWYgKG1vbnRoIDwgMTApIHtcbiAgICAgICAgbW9udGggPSAnMCcgKyBkYXk7XG4gICAgfVxuXG4gICAgbGV0IGZvcm1hdHRlZERhdGUgPSBgJHtkYXl9LyR7bW9udGh9LyR7eWVhcn1gO1xuICAgIHJldHVybiBmb3JtYXR0ZWREYXRlXG59XG5cbmV4cG9ydCB7Z2V0Q3VycmVudERhdGV9OyIsImNsYXNzIFRvRG9JdGVtIHtcbiAgICBjb25zdHJ1Y3RvciAobGlzdEl0ZW0sIGRhdGUsIGRhdGFJbmRleCkge1xuICAgICAgICB0aGlzLmxpc3RJdGVtID0gbGlzdEl0ZW07XG4gICAgICAgIHRoaXMuZGF0ZSA9IGRhdGU7XG4gICAgICAgIHRoaXMuZGF0YUluZGV4ID0gZGF0YUluZGV4O1xuICAgIH1cbn1cblxubGV0IGV4YW1wbGVUb0RvMSA9IG5ldyBUb0RvSXRlbSgnRXhhbXBsZSBUby1EbycsICcyMDIzLTEwLTE0JywgJzAnKVxubGV0IGV4YW1wbGVUb0RvMiA9IG5ldyBUb0RvSXRlbSgnRXhhbXBsZSBUby1EbyAyJywgJzIwMjMtMTAtMTUnLCAnMScpXG5cbmNvbnN0IHRvRG9MaXN0ID0gW2V4YW1wbGVUb0RvMSwgZXhhbXBsZVRvRG8yXTtcblxuY29uc3QgYWRkVG9Eb09iamVjdCA9IGZ1bmN0aW9uKGRhdGFJbmRleCkge1xuICAgIGNvbnN0IGlucHV0RmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuYWRkLXRvLWRvLWlucHV0W2RhdGEtaW5kZXg9XCIke2RhdGFJbmRleH1cIl1gKTtcbiAgICBjb25zdCBkYXRlRmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuYWRkLXRvLWRvLWRhdGVbZGF0YS1pbmRleD1cIiR7ZGF0YUluZGV4fVwiXWApO1xuICAgIGxldCB0b0RvSXRlbSA9IGlucHV0RmllbGQudmFsdWU7XG4gICAgbGV0IHRvRG9EYXRlID0gZGF0ZUZpZWxkLnZhbHVlO1xuICAgIGxldCB0b0RvRGF0YUluZGV4ID0gdG9Eb0xpc3QubGVuZ3RoO1xuICAgIGxldCBuZXdUb0RvID0gbmV3IFRvRG9JdGVtKHRvRG9JdGVtLCB0b0RvRGF0ZSwgdG9Eb0RhdGFJbmRleCk7XG4gICAgdG9Eb0xpc3QucHVzaChuZXdUb0RvICk7XG59XG5cbmNvbnN0IGVkaXRUb0RvT2JqZWN0ID0gZnVuY3Rpb24oZGF0YUluZGV4TnVtKSB7XG4gICAgY29uc3QgaW5wdXRGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5hZGQtdG8tZG8taW5wdXRbZGF0YS1pbmRleD1cIiR7ZGF0YUluZGV4TnVtfVwiXWApO1xuICAgIGNvbnN0IGRhdGVGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5hZGQtdG8tZG8tZGF0ZVtkYXRhLWluZGV4PVwiJHtkYXRhSW5kZXhOdW19XCJdYCk7XG4gICAgdG9Eb0xpc3RbZGF0YUluZGV4TnVtXS5saXN0SXRlbSA9IGlucHV0RmllbGQudmFsdWU7XG4gICAgdG9Eb0xpc3RbZGF0YUluZGV4TnVtXS5kYXRlID0gZGF0ZUZpZWxkLnZhbHVlO1xuICAgIHRvRG9MaXN0W2RhdGFJbmRleE51bV0uZGF0YUluZGV4ID0gYCR7ZGF0YUluZGV4TnVtfWA7XG5cblxufVxuXG5leHBvcnQge3RvRG9MaXN0LCBhZGRUb0RvT2JqZWN0LCBlZGl0VG9Eb09iamVjdH07XG4iLCJpbXBvcnQgeyBnZXRDdXJyZW50RGF0ZSB9IGZyb20gXCIuL2dldC1kYXRlXCI7XG5pbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL2FkZC10by1kb1wiO1xuXG5jb25zdCBmdWxsVG9Eb0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGlzdC1pdGVtcycpO1xuXG5sZXQgcmVuZGVyVG9EbyA9IGZ1bmN0aW9uKCkge1xuICAgIFxuICAgIGZvciAobGV0IGk9MDsgaTx0b0RvTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBsaXN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBsaXN0SXRlbS5jbGFzc0xpc3QuYWRkKCdsaXN0LWl0ZW0nKTtcbiAgICAgICAgbGlzdEl0ZW0uY2xhc3NMaXN0LmFkZCgnZnVsbC10by1kbycpO1xuICAgICAgICBsaXN0SXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnLCBgJHtpfWApO1xuICAgICAgICBmdWxsVG9Eb0xpc3QuYXBwZW5kQ2hpbGQobGlzdEl0ZW0pO1xuXG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNoZWNrYm94LmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94Jyk7XG4gICAgICAgIGxpc3RJdGVtLmFwcGVuZENoaWxkKGNoZWNrYm94KTtcblxuICAgICAgICBjb25zdCBpbnB1dEZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGlucHV0RmllbGQuY2xhc3NMaXN0LmFkZCgndG8tZG8taW5wdXQnKTtcbiAgICAgICAgaW5wdXRGaWVsZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnLCBgJHtpfWApO1xuICAgICAgICBpbnB1dEZpZWxkLmlubmVySFRNTCA9IHRvRG9MaXN0W2ldLmxpc3RJdGVtO1xuICAgICAgICBsaXN0SXRlbS5hcHBlbmRDaGlsZChpbnB1dEZpZWxkKTtcblxuICAgICAgICBjb25zdCBpY29uQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGljb25Cb3guY2xhc3NMaXN0LmFkZCgnaWNvbi1ib3gnKTtcbiAgICAgICAgbGlzdEl0ZW0uYXBwZW5kQ2hpbGQoaWNvbkJveCk7XG5cbiAgICAgICAgY29uc3QgZGF0ZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgZGF0ZUlucHV0LmNsYXNzTGlzdC5hZGQoJ2RhdGUtaW5wdXQnKTtcbiAgICAgICAgZGF0ZUlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICdkYXRlJyk7XG4gICAgICAgIGRhdGVJbnB1dC5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnLCBgJHtpfWApO1xuICAgICAgICBkYXRlSW5wdXQudmFsdWUgPSB0b0RvTGlzdFtpXS5kYXRlO1xuICAgICAgICBpY29uQm94LmFwcGVuZENoaWxkKGRhdGVJbnB1dCk7XG5cbiAgICAgICAgY29uc3Qgc3ZnRWRpdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XG4gICAgICAgIHN2Z0VkaXQuY2xhc3NMaXN0LmFkZCgnZWRpdC1zdmcnKTtcbiAgICAgICAgc3ZnRWRpdC5zZXRBdHRyaWJ1dGUoJ3htbG5zJywgJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyk7XG4gICAgICAgIHN2Z0VkaXQuc2V0QXR0cmlidXRlKCd2aWV3Qm94JywgJzAgMCAyNCAyNCcpO1xuICAgICAgICBzdmdFZGl0LnNldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcsIGAke2l9YCk7XG4gICAgICAgIHN2Z0VkaXQuaW5uZXJIVE1MID0gXCI8dGl0bGU+cGVuY2lsPC90aXRsZT48cGF0aCBkPSdNMjAuNzEsNy4wNEMyMS4xLDYuNjUgMjEuMSw2IDIwLjcxLDUuNjNMMTguMzcsMy4yOUMxOCwyLjkgMTcuMzUsMi45IDE2Ljk2LDMuMjlMMTUuMTIsNS4xMkwxOC44Nyw4Ljg3TTMsMTcuMjVWMjFINi43NUwxNy44MSw5LjkzTDE0LjA2LDYuMThMMywxNy4yNVonIC8+XCI7XG4gICAgICAgIGljb25Cb3guYXBwZW5kQ2hpbGQoc3ZnRWRpdCk7XG5cbiAgICAgICAgY29uc3Qgc3ZnRGVsZXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcbiAgICAgICAgc3ZnRGVsZXRlLmNsYXNzTGlzdC5hZGQoJ2RlbGV0ZS1zdmcnKTtcbiAgICAgICAgc3ZnRGVsZXRlLnNldEF0dHJpYnV0ZSgneG1sbnMnLCAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnKTtcbiAgICAgICAgc3ZnRGVsZXRlLnNldEF0dHJpYnV0ZSgndmlld0JveCcsICcwIDAgMjQgMjQnKTtcbiAgICAgICAgc3ZnRGVsZXRlLnNldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcsIGAke2l9YCk7XG4gICAgICAgIHN2Z0RlbGV0ZS5pbm5lckhUTUwgPSBcIjx0aXRsZT50cmFzaC1jYW4tb3V0bGluZTwvdGl0bGU+PHBhdGggZD0nTTksM1Y0SDRWNkg1VjE5QTIsMiAwIDAsMCA3LDIxSDE3QTIsMiAwIDAsMCAxOSwxOVY2SDIwVjRIMTVWM0g5TTcsNkgxN1YxOUg3VjZNOSw4VjE3SDExVjhIOU0xMyw4VjE3SDE1VjhIMTNaJyAvPlwiXG4gICAgICAgIGljb25Cb3guYXBwZW5kQ2hpbGQoc3ZnRGVsZXRlKTtcblxuXG4gICAgfVxuICAgIFxufVxuXG5sZXQgcmVuZGVyQWRkVG9EbyA9IGZ1bmN0aW9uIChkYXRhSW5kZXgpIHtcbiAgICBjb25zdCBsaXN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGxpc3RJdGVtLmNsYXNzTGlzdC5hZGQoJ2xpc3QtaXRlbScpO1xuICAgIGxpc3RJdGVtLmNsYXNzTGlzdC5hZGQoJ2FkZC10by1kby1tb2RhbCcpXG4gICAgbGlzdEl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JywgYCR7ZGF0YUluZGV4fWApO1xuICAgIGZ1bGxUb0RvTGlzdC5hcHBlbmRDaGlsZChsaXN0SXRlbSk7XG5cbiAgICBjb25zdCBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNoZWNrYm94LmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94Jyk7XG4gICAgbGlzdEl0ZW0uYXBwZW5kQ2hpbGQoY2hlY2tib3gpO1xuXG4gICAgY29uc3QgaW5wdXRGaWVsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgaW5wdXRGaWVsZC5jbGFzc0xpc3QuYWRkKCd0by1kby1pbnB1dCcpO1xuICAgIGlucHV0RmllbGQuY2xhc3NMaXN0LmFkZCgnYWRkLXRvLWRvLWlucHV0JylcbiAgICBpbnB1dEZpZWxkLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XG4gICAgaW5wdXRGaWVsZC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgJ1doYXQgRG8gWW91IE5lZWQgdG8gRG8/Jyk7XG4gICAgaW5wdXRGaWVsZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnLCBgJHtkYXRhSW5kZXh9YCk7XG4gICAgLy8gaW5wdXRGaWVsZC52YWx1ZSA9IFwiV2hhdCBEbyBZb3UgTmVlZCB0byBEbz9cIjtcbiAgICBsaXN0SXRlbS5hcHBlbmRDaGlsZChpbnB1dEZpZWxkKTtcblxuICAgIGNvbnN0IGljb25Cb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBpY29uQm94LmNsYXNzTGlzdC5hZGQoJ2ljb24tYm94Jyk7XG4gICAgbGlzdEl0ZW0uYXBwZW5kQ2hpbGQoaWNvbkJveCk7XG5cbiAgICBjb25zdCBkYXRlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGRhdGVJbnB1dC5jbGFzc0xpc3QuYWRkKCdkYXRlLWlucHV0Jyk7XG4gICAgZGF0ZUlucHV0LmNsYXNzTGlzdC5hZGQoJ2FkZC10by1kby1kYXRlJylcbiAgICBkYXRlSW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2RhdGUnKTtcbiAgICBkYXRlSW5wdXQuc2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JywgYCR7ZGF0YUluZGV4fWApO1xuICAgIGRhdGVJbnB1dC52YWx1ZSA9IGdldEN1cnJlbnREYXRlKCk7XG4gICAgaWNvbkJveC5hcHBlbmRDaGlsZChkYXRlSW5wdXQpO1xuXG4gICAgY29uc3QgYWRkVG9Eb0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGFkZFRvRG9CdG4uY2xhc3NMaXN0LmFkZCgnc3VibWl0LWJ1dHRvbicpO1xuICAgIGFkZFRvRG9CdG4uc2V0QXR0cmlidXRlKCd0eXBlJywgJ3N1Ym1pdCcpO1xuICAgIGFkZFRvRG9CdG4uc2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JywgYCR7ZGF0YUluZGV4fWApO1xuICAgIGFkZFRvRG9CdG4uc2V0QXR0cmlidXRlKCdpZCcsICd0by1kby1zdWJtaXQnKVxuICAgIGFkZFRvRG9CdG4uaW5uZXJIVE1MID0gJ1N1Ym1pdCc7XG4gICAgaWNvbkJveC5hcHBlbmRDaGlsZChhZGRUb0RvQnRuKTtcblxuICAgIGNvbnN0IGFkZENhbmNlbFRvRG9CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBhZGRDYW5jZWxUb0RvQnRuLmNsYXNzTGlzdC5hZGQoJ2NhbmNlbC1idXR0b24nKTtcbiAgICBhZGRDYW5jZWxUb0RvQnRuLnNldEF0dHJpYnV0ZSgndHlwZScsICdzdWJtaXQnKTtcbiAgICBhZGRDYW5jZWxUb0RvQnRuLnNldEF0dHJpYnV0ZSgnaWQnLCAndG8tZG8tY2FuY2VsJylcbiAgICBhZGRDYW5jZWxUb0RvQnRuLmlubmVySFRNTCA9ICdDYW5jZWwnO1xuICAgIGljb25Cb3guYXBwZW5kQ2hpbGQoYWRkQ2FuY2VsVG9Eb0J0bik7XG4gICAgXG59XG5cbmxldCBlZGl0VG9Eb0l0ZW0gPSBmdW5jdGlvbiAoZWRpdE5vZGUsIGRhdGFJbmRleCkge1xuICAgIGVkaXROb2RlLmNsYXNzTGlzdC5hZGQoJ2xpc3QtaXRlbScpO1xuICAgIGVkaXROb2RlLmNsYXNzTGlzdC5hZGQoJ2FkZC10by1kby1tb2RhbCcpXG4gICAgZWRpdE5vZGUuc2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JywgYCR7ZGF0YUluZGV4fWApO1xuXG4gICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjaGVja2JveC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveCcpO1xuICAgIGVkaXROb2RlLmFwcGVuZENoaWxkKGNoZWNrYm94KTtcblxuICAgIGNvbnN0IGlucHV0RmllbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGlucHV0RmllbGQuY2xhc3NMaXN0LmFkZCgndG8tZG8taW5wdXQnKTtcbiAgICBpbnB1dEZpZWxkLmNsYXNzTGlzdC5hZGQoJ2FkZC10by1kby1pbnB1dCcpXG4gICAgaW5wdXRGaWVsZC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dCcpO1xuICAgIGlucHV0RmllbGQuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsICdXaGF0IERvIFlvdSBOZWVkIHRvIERvPycpO1xuICAgIGlucHV0RmllbGQuc2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JywgYCR7ZGF0YUluZGV4fWApO1xuICAgIC8vIGlucHV0RmllbGQudmFsdWUgPSBcIldoYXQgRG8gWW91IE5lZWQgdG8gRG8/XCI7XG4gICAgZWRpdE5vZGUuYXBwZW5kQ2hpbGQoaW5wdXRGaWVsZCk7XG5cbiAgICBjb25zdCBpY29uQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgaWNvbkJveC5jbGFzc0xpc3QuYWRkKCdpY29uLWJveCcpO1xuICAgIGVkaXROb2RlLmFwcGVuZENoaWxkKGljb25Cb3gpO1xuXG4gICAgY29uc3QgZGF0ZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBkYXRlSW5wdXQuY2xhc3NMaXN0LmFkZCgnZGF0ZS1pbnB1dCcpO1xuICAgIGRhdGVJbnB1dC5jbGFzc0xpc3QuYWRkKCdhZGQtdG8tZG8tZGF0ZScpXG4gICAgZGF0ZUlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICdkYXRlJyk7XG4gICAgZGF0ZUlucHV0LnNldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcsIGAke2RhdGFJbmRleH1gKTtcbiAgICBkYXRlSW5wdXQudmFsdWUgPSBnZXRDdXJyZW50RGF0ZSgpO1xuICAgIGljb25Cb3guYXBwZW5kQ2hpbGQoZGF0ZUlucHV0KTtcblxuICAgIGNvbnN0IGFkZFRvRG9CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBhZGRUb0RvQnRuLmNsYXNzTGlzdC5hZGQoJ3N1Ym1pdC1idXR0b24nKTtcbiAgICBhZGRUb0RvQnRuLnNldEF0dHJpYnV0ZSgndHlwZScsICdzdWJtaXQnKTtcbiAgICBhZGRUb0RvQnRuLnNldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcsIGAke2RhdGFJbmRleH1gKTtcbiAgICBhZGRUb0RvQnRuLnNldEF0dHJpYnV0ZSgnaWQnLCAndG8tZG8tc3VibWl0JylcbiAgICBhZGRUb0RvQnRuLmlubmVySFRNTCA9ICdTdWJtaXQnO1xuICAgIGljb25Cb3guYXBwZW5kQ2hpbGQoYWRkVG9Eb0J0bik7XG5cbiAgICBjb25zdCBhZGRDYW5jZWxUb0RvQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYWRkQ2FuY2VsVG9Eb0J0bi5jbGFzc0xpc3QuYWRkKCdjYW5jZWwtYnV0dG9uJyk7XG4gICAgYWRkQ2FuY2VsVG9Eb0J0bi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnc3VibWl0Jyk7XG4gICAgYWRkQ2FuY2VsVG9Eb0J0bi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3RvLWRvLWNhbmNlbCcpXG4gICAgYWRkQ2FuY2VsVG9Eb0J0bi5pbm5lckhUTUwgPSAnQ2FuY2VsJztcbiAgICBpY29uQm94LmFwcGVuZENoaWxkKGFkZENhbmNlbFRvRG9CdG4pO1xuICAgIFxufVxuXG5leHBvcnQge3JlbmRlclRvRG8sIHJlbmRlckFkZFRvRG8sIGVkaXRUb0RvSXRlbX07XG5cblxuIiwiaW1wb3J0IHsgcmVuZGVyVG9EbywgcmVuZGVyQWRkVG9EbywgZWRpdFRvRG9JdGVtIH0gZnJvbSBcIi4vcmVuZGVyLXRvLWRvXCI7XG5pbXBvcnQgeyBhZGRUb0RvT2JqZWN0LCB0b0RvTGlzdCwgZWRpdFRvRG9PYmplY3QgfSBmcm9tIFwiLi9hZGQtdG8tZG9cIjtcbmltcG9ydCB7IHRvRG9MaXN0TGVuZ3RoIH0gZnJvbSBcIi5cIjtcblxuY29uc3QgbGlzdEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxpc3QtaXRlbXMnKTtcblxuY29uc3QgZWRpdFRvRG8gPSBmdW5jdGlvbihldmVudCkge1xuICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdlZGl0LXN2ZycpKSB7XG4gICAgICAgIGNvbnN0IHN2Z0J0biA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgY29uc3QgbGlzdE51bWJlciA9IHN2Z0J0bi5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKTtcbiAgICAgICAgY29uc3QgbGlzdEl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuZnVsbC10by1kb1tkYXRhLWluZGV4PVwiJHtsaXN0TnVtYmVyfVwiXWApO1xuICAgICAgICBjb25zdCBlZGl0TW9kdWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGxpc3RJdGVtcy5yZXBsYWNlQ2hpbGQoZWRpdE1vZHVsZSwgbGlzdEl0ZW0pO1xuICAgICAgICBlZGl0VG9Eb0l0ZW0oZWRpdE1vZHVsZSwgbGlzdE51bWJlcik7XG4gICAgICAgIGNvbnNvbGUubG9nKHRvRG9MaXN0KVxuICAgIH1cbn1cblxuY29uc3QgZWRpdEJ1dHRvbkRPTSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBlZGl0U1ZHID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmVkaXQtc3ZnJyk7XG4gICAgZWRpdFNWRy5mb3JFYWNoKCAoZWRpdEJ0bikgPT4ge1xuICAgIGVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnSGVsbG8nKVxuICAgICAgICBlZGl0VG9EbyhlKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0hlbGxvIEFnYWluJylcbiAgICAgICAgY29uc3Qgc3VibWl0VG9EbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VibWl0LWJ1dHRvblwiKTtcbiAgICAgICAgY29uc3QgY2FuY2VsVG9EbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW5jZWwtYnV0dG9uJyk7XG4gICAgICAgIGNvbnN0IGFkZFRvRG9Nb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtdG8tZG8tbW9kYWwnKTtcbiAgICAgICAgY29uc3QgbGlzdE51bWJlciA9IGFkZFRvRG9Nb2RhbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKTtcbiAgICAgICAgc3VibWl0VG9Eby5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBlZGl0VG9Eb09iamVjdChsaXN0TnVtYmVyKTtcbiAgICAgICAgICAgIGxpc3RJdGVtcy5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgIHJlbmRlclRvRG8oKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRvRG9MaXN0KTtcbiAgICAgICAgICAgIGVkaXRCdXR0b25ET00oKTtcbiAgICAgICAgICAgIGRlbGV0ZVRvRG9ET00oKTtcbiAgICAgICAgfSlcbiAgICAgICAgY2FuY2VsVG9Eby5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBsaXN0SXRlbXMuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICByZW5kZXJUb0RvKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0b0RvTGlzdCk7XG4gICAgICAgICAgICBlZGl0QnV0dG9uRE9NKCk7XG4gICAgICAgICAgICBkZWxldGVUb0RvRE9NKCk7XG4gICAgICAgIH0pXG4gICAgfSApXG59KVxufVxuXG5jb25zdCBkZWxldGVUb0RvID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZGVsZXRlLXN2ZycpKSB7XG4gICAgICAgIGNvbnN0IHN2Z0J0biA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgY29uc3QgbGlzdE51bWJlciA9IHN2Z0J0bi5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKTtcbiAgICAgICAgY29uc3QgbGlzdEl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuZnVsbC10by1kb1tkYXRhLWluZGV4PVwiJHtsaXN0TnVtYmVyfVwiXWApO1xuICAgICAgICBjb25zb2xlLmxvZyhsaXN0TnVtYmVyKTtcbiAgICAgICAgdG9Eb0xpc3Quc3BsaWNlKGxpc3ROdW1iZXIsIDEpO1xuICAgIH1cbn1cblxuY29uc3QgZGVsZXRlVG9Eb0RPTSA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IGRlbGV0ZVNWRyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kZWxldGUtc3ZnJyk7XG4gICAgZGVsZXRlU1ZHLmZvckVhY2goIChkZWxldGVCdG4pID0+IHtcbiAgICAgICAgZGVsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIGRlbGV0ZVRvRG8oZSk7XG4gICAgICAgICAgICBsaXN0SXRlbXMuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICByZW5kZXJUb0RvKCk7XG4gICAgICAgICAgICBlZGl0QnV0dG9uRE9NKCk7XG4gICAgICAgICAgICBkZWxldGVUb0RvRE9NKCk7XG4gICAgICAgIH0pXG4gICAgfSlcbn1cblxuZXhwb3J0IHtlZGl0VG9EbywgZWRpdEJ1dHRvbkRPTSwgZGVsZXRlVG9Eb0RPTX07IiwiaW1wb3J0IHsgcmVuZGVyVG9EbywgcmVuZGVyQWRkVG9EbyB9IGZyb20gXCIuL3JlbmRlci10by1kb1wiO1xuaW1wb3J0IHsgdG9Eb0xpc3QsIGFkZFRvRG9PYmplY3QgfSBmcm9tIFwiLi9hZGQtdG8tZG9cIjtcbmltcG9ydCB7IGRlbGV0ZVRvRG9ET00sIGVkaXRCdXR0b25ET00gfSBmcm9tIFwiLi9lZGl0LWRlbGV0ZS10b2RvXCI7XG5cbmNvbnN0IHByb2plY3REaWFsb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3QtYWRkaXRpb25cIik7XG5jb25zdCBhZGRQcm9qZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC1wcm9qZWN0LWJ1dHRvbicpO1xuXG5hZGRQcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBwcm9qZWN0RGlhbG9nLnNob3dNb2RhbCgpO1xufSlcblxuY29uc3QgYWRkVG9EbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtaXRlbS1qcycpO1xuY29uc3QgbGlzdEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxpc3QtaXRlbXMnKTtcblxuXG5sZXQgdG9Eb0xpc3RMZW5ndGggPSB0b0RvTGlzdC5sZW5ndGg7XG5cblxuYWRkVG9Eby5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKT0+IHtcbiAgICByZW5kZXJBZGRUb0RvKHRvRG9MaXN0TGVuZ3RoKTtcbiAgICBjb25zdCBhZGRUb0RvSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10by1kby1pbnB1dFwiKTtcbiAgICBjb25zdCBzdWJtaXRUb0RvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdWJtaXQtYnV0dG9uXCIpO1xuICAgIGNvbnN0IGNhbmNlbFRvRG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FuY2VsLWJ1dHRvbicpO1xuICAgIGNvbnN0IGFkZFRvRG9Nb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtdG8tZG8tbW9kYWwnKTtcbiAgICBhZGRUb0RvSW5wdXQuZm9jdXMoKTtcbiAgICBzdWJtaXRUb0RvLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgYWRkVG9Eb09iamVjdCh0b0RvTGlzdExlbmd0aCk7XG4gICAgICAgIGxpc3RJdGVtcy5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgcmVuZGVyVG9EbygpO1xuICAgICAgICBjb25zb2xlLmxvZyh0b0RvTGlzdCk7XG4gICAgICAgIGVkaXRCdXR0b25ET00oKTtcbiAgICAgICAgZGVsZXRlVG9Eb0RPTSgpO1xuICAgIH0pXG4gICAgY2FuY2VsVG9Eby5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGxpc3RJdGVtcy5yZW1vdmVDaGlsZChhZGRUb0RvTW9kYWwpO1xuICAgICAgICBlZGl0QnV0dG9uRE9NKCk7XG4gICAgICAgIGRlbGV0ZVRvRG9ET00oKTtcbiAgICB9KVxufSlcblxuXG5cblxucmVuZGVyVG9EbygpO1xuZWRpdEJ1dHRvbkRPTSgpO1xuZGVsZXRlVG9Eb0RPTSgpO1xuXG5leHBvcnQge3RvRG9MaXN0TGVuZ3RofSJdLCJuYW1lcyI6WyJnZXRDdXJyZW50RGF0ZSIsImN1cnJlbnREYXRlIiwiRGF0ZSIsImRheSIsImdldERhdGUiLCJtb250aCIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJUb0RvSXRlbSIsImNvbnN0cnVjdG9yIiwibGlzdEl0ZW0iLCJkYXRlIiwiZGF0YUluZGV4IiwidGhpcyIsInRvRG9MaXN0IiwiZnVsbFRvRG9MaXN0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicmVuZGVyVG9EbyIsImkiLCJsZW5ndGgiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwic2V0QXR0cmlidXRlIiwiYXBwZW5kQ2hpbGQiLCJjaGVja2JveCIsImlucHV0RmllbGQiLCJpbm5lckhUTUwiLCJpY29uQm94IiwiZGF0ZUlucHV0IiwidmFsdWUiLCJzdmdFZGl0IiwiY3JlYXRlRWxlbWVudE5TIiwic3ZnRGVsZXRlIiwibGlzdEl0ZW1zIiwiZWRpdEJ1dHRvbkRPTSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWRpdEJ0biIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiY29uc29sZSIsImxvZyIsImV2ZW50IiwidGFyZ2V0IiwiY29udGFpbnMiLCJsaXN0TnVtYmVyIiwiZ2V0QXR0cmlidXRlIiwiZWRpdE1vZHVsZSIsInJlcGxhY2VDaGlsZCIsImVkaXROb2RlIiwiYWRkVG9Eb0J0biIsImFkZENhbmNlbFRvRG9CdG4iLCJlZGl0VG9Eb0l0ZW0iLCJlZGl0VG9EbyIsInN1Ym1pdFRvRG8iLCJjYW5jZWxUb0RvIiwiZGF0YUluZGV4TnVtIiwiZGF0ZUZpZWxkIiwiZWRpdFRvRG9PYmplY3QiLCJkZWxldGVUb0RvRE9NIiwiZGVsZXRlQnRuIiwic3BsaWNlIiwiZGVsZXRlVG9EbyIsInByb2plY3REaWFsb2ciLCJnZXRFbGVtZW50QnlJZCIsInNob3dNb2RhbCIsImFkZFRvRG8iLCJ0b0RvTGlzdExlbmd0aCIsInJlbmRlckFkZFRvRG8iLCJhZGRUb0RvSW5wdXQiLCJhZGRUb0RvTW9kYWwiLCJmb2N1cyIsInRvRG9JdGVtIiwidG9Eb0RhdGUiLCJ0b0RvRGF0YUluZGV4IiwibmV3VG9EbyIsInB1c2giLCJhZGRUb0RvT2JqZWN0IiwicmVtb3ZlQ2hpbGQiXSwic291cmNlUm9vdCI6IiJ9